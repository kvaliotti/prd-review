{"ast":null,"code":"var _jsxFileName = \"/Users/konstantinvaliotti/prdreview/frontend/src/components/KnowledgeBasePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { notionAPI } from '../services/api';\nimport { PageType } from '../types';\nimport FileUpload from './FileUpload';\nimport './KnowledgeBasePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KnowledgeBasePage = () => {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [pages, setPages] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isImporting, setIsImporting] = useState(false);\n  const [importProgress, setImportProgress] = useState(null);\n  const fetchStats = async () => {\n    try {\n      const response = await notionAPI.getStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n  const fetchPages = async pageType => {\n    try {\n      const response = await notionAPI.getPages(pageType);\n      setPages(response.data);\n    } catch (error) {\n      console.error('Error fetching pages:', error);\n    }\n  };\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([fetchStats(), fetchPages()]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n  const handleUploadComplete = () => {\n    // Refresh data after upload\n    fetchStats();\n    fetchPages();\n  };\n  const handleStartImport = async forceUpdate => {\n    setIsImporting(true);\n    setImportProgress({\n      status: 'starting'\n    });\n    try {\n      const response = await notionAPI.startImport(forceUpdate);\n      const reader = response.data.getReader();\n      const decoder = new TextDecoder();\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) break;\n        const chunk = decoder.decode(value);\n        const lines = chunk.split('\\n\\n').filter(Boolean);\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = JSON.parse(line.substring(6));\n            setImportProgress(data);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error during import:', error);\n      setImportProgress({\n        status: 'error',\n        error: 'An unexpected error occurred.'\n      });\n    } finally {\n      setIsImporting(false);\n      await fetchStats();\n      await fetchPages();\n    }\n  };\n  const renderImportProgress = () => {\n    if (!isImporting || !importProgress) return null;\n    switch (importProgress.status) {\n      case 'starting':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Starting import...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 16\n        }, this);\n      case 'fetching_pages':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fetching pages from \", importProgress.database_type, \" database...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 16\n        }, this);\n      case 'pages_fetched':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fetched \", importProgress.pages_count, \" pages. Processing...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 16\n        }, this);\n      case 'page_processed':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Processing page \", importProgress.page_index, \"/\", importProgress.total_pages, \": \", importProgress.page_title, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), \"Chunks created: \", importProgress.chunks_created, \", Embeddings: \", importProgress.embeddings_created]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Import completed!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), \"Pages imported: \", importProgress.total_pages_imported, \", Chunks created: \", importProgress.total_chunks_created, \", Embeddings generated: \", importProgress.total_embeddings_generated]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: [\"Error: \", importProgress.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"knowledge-base-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kb-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), \"Loading knowledge base...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"knowledge-base-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kb-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kb-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Knowledge Base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage your imported documents and track integration progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kb-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kb-sidebar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kb-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"card-title\",\n                  children: \"Overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-description\",\n                  children: \"Your knowledge base statistics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), stats ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stats-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: stats.total_pages\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Pages\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: stats.by_type.PRD || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"PRDs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: stats.by_type.RESEARCH || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Research\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: stats.by_type.ANALYTICS || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Analytics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: stats.total_chunks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Text Chunks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"empty-state-icon\",\n                children: \"\\uD83D\\uDCDD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"No Data Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Import from Notion to get started\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kb-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\u26A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"card-title\",\n                  children: \"Import Controls\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-description\",\n                  children: \"Sync data from Notion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"import-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary\",\n                  onClick: () => handleStartImport(false),\n                  disabled: isImporting,\n                  children: isImporting ? 'Importing...' : 'Start Import'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-secondary\",\n                  onClick: () => handleStartImport(true),\n                  disabled: isImporting,\n                  children: isImporting ? 'Importing...' : 'Force Re-import'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), renderImportProgress() && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-section\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-text\",\n                  children: renderImportProgress()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n            onUploadComplete: handleUploadComplete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kb-main\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"card-icon\",\n              children: \"\\uD83D\\uDCDA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"card-title\",\n                children: \"Imported Pages\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-description\",\n                children: \"Browse and filter your knowledge base content\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-btn\",\n                onClick: () => fetchPages(),\n                children: \"All Pages\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-btn\",\n                onClick: () => fetchPages(PageType.prd),\n                children: \"PRDs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-btn\",\n                onClick: () => fetchPages(PageType.research),\n                children: \"Research\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-btn\",\n                onClick: () => fetchPages(PageType.analytics),\n                children: \"Analytics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), pages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pages-table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"pages-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Last Updated\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: pages.map(page => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: page.notion_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: page.notion_url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"page-link\",\n                      children: page.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"page-link\",\n                      children: page.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `page-type-badge page-type-${page.page_type.toLowerCase()}`,\n                      children: page.page_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: new Date(page.updated_at).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this)]\n                }, page.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"empty-state-icon\",\n              children: \"\\uD83D\\uDCC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Pages Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No documents have been imported yet. Use the import controls to sync your Notion content.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(KnowledgeBasePage, \"upw26lgPh6vYCpHi4wAfKVrO8oc=\");\n_c = KnowledgeBasePage;\nexport default KnowledgeBasePage;\nvar _c;\n$RefreshReg$(_c, \"KnowledgeBasePage\");","map":{"version":3,"names":["React","useState","useEffect","notionAPI","PageType","FileUpload","jsxDEV","_jsxDEV","KnowledgeBasePage","_s","stats","setStats","pages","setPages","isLoading","setIsLoading","isImporting","setIsImporting","importProgress","setImportProgress","fetchStats","response","getStats","data","error","console","fetchPages","pageType","getPages","loadData","Promise","all","handleUploadComplete","handleStartImport","forceUpdate","status","startImport","reader","getReader","decoder","TextDecoder","done","value","read","chunk","decode","lines","split","filter","Boolean","line","startsWith","JSON","parse","substring","renderImportProgress","children","fileName","_jsxFileName","lineNumber","columnNumber","database_type","pages_count","page_index","total_pages","page_title","chunks_created","embeddings_created","total_pages_imported","total_chunks_created","total_embeddings_generated","style","color","className","by_type","PRD","RESEARCH","ANALYTICS","total_chunks","onClick","disabled","onUploadComplete","prd","research","analytics","length","map","page","notion_url","href","target","rel","title","page_type","toLowerCase","Date","updated_at","toLocaleDateString","id","_c","$RefreshReg$"],"sources":["/Users/konstantinvaliotti/prdreview/frontend/src/components/KnowledgeBasePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { notionAPI } from '../services/api';\nimport { KnowledgeBaseStats, NotionPage, PageType } from '../types';\nimport FileUpload from './FileUpload';\nimport './KnowledgeBasePage.css';\n\nconst KnowledgeBasePage: React.FC = () => {\n  const [stats, setStats] = useState<KnowledgeBaseStats | null>(null);\n  const [pages, setPages] = useState<NotionPage[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isImporting, setIsImporting] = useState(false);\n  const [importProgress, setImportProgress] = useState<any>(null);\n\n  const fetchStats = async () => {\n    try {\n      const response = await notionAPI.getStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n\n  const fetchPages = async (pageType?: PageType) => {\n    try {\n      const response = await notionAPI.getPages(pageType);\n      setPages(response.data);\n    } catch (error) {\n      console.error('Error fetching pages:', error);\n    }\n  };\n\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([fetchStats(), fetchPages()]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const handleUploadComplete = () => {\n    // Refresh data after upload\n    fetchStats();\n    fetchPages();\n  };\n\n  const handleStartImport = async (forceUpdate: boolean) => {\n    setIsImporting(true);\n    setImportProgress({ status: 'starting' });\n    try {\n      const response = await notionAPI.startImport(forceUpdate);\n      const reader = response.data.getReader();\n      const decoder = new TextDecoder();\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        \n        const chunk = decoder.decode(value);\n        const lines = chunk.split('\\n\\n').filter(Boolean);\n        \n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = JSON.parse(line.substring(6));\n            setImportProgress(data);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error during import:', error);\n      setImportProgress({ status: 'error', error: 'An unexpected error occurred.' });\n    } finally {\n      setIsImporting(false);\n      await fetchStats();\n      await fetchPages();\n    }\n  };\n  \n  const renderImportProgress = () => {\n    if (!isImporting || !importProgress) return null;\n    \n    switch (importProgress.status) {\n      case 'starting':\n        return <p>Starting import...</p>;\n      case 'fetching_pages':\n        return <p>Fetching pages from {importProgress.database_type} database...</p>;\n      case 'pages_fetched':\n        return <p>Fetched {importProgress.pages_count} pages. Processing...</p>;\n      case 'page_processed':\n        return (\n          <p>\n            Processing page {importProgress.page_index}/{importProgress.total_pages}: {importProgress.page_title}\n            <br />\n            Chunks created: {importProgress.chunks_created}, Embeddings: {importProgress.embeddings_created}\n          </p>\n        );\n      case 'completed':\n        return (\n          <p>\n            Import completed!\n            <br />\n            Pages imported: {importProgress.total_pages_imported}, \n            Chunks created: {importProgress.total_chunks_created}, \n            Embeddings generated: {importProgress.total_embeddings_generated}\n          </p>\n        );\n      case 'error':\n        return <p style={{ color: 'red' }}>Error: {importProgress.error}</p>;\n      default:\n        return null;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"knowledge-base-page\">\n        <div className=\"kb-container\">\n          <div className=\"loading-spinner\">\n            <div className=\"spinner\"></div>\n            Loading knowledge base...\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"knowledge-base-page\">\n      <div className=\"kb-container\">\n        <div className=\"kb-header\">\n          <h1>Knowledge Base</h1>\n          <p>Manage your imported documents and track integration progress</p>\n        </div>\n\n        <div className=\"kb-content\">\n          <div className=\"kb-sidebar\">\n            <div className=\"kb-card\">\n              <div className=\"card-header\">\n                <span className=\"card-icon\">üìä</span>\n                <div>\n                  <h2 className=\"card-title\">Overview</h2>\n                  <p className=\"card-description\">Your knowledge base statistics</p>\n                </div>\n              </div>\n\n              {stats ? (\n                <div className=\"stats-grid\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">{stats.total_pages}</span>\n                    <span className=\"stat-label\">Total Pages</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">{stats.by_type.PRD || 0}</span>\n                    <span className=\"stat-label\">PRDs</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">{stats.by_type.RESEARCH || 0}</span>\n                    <span className=\"stat-label\">Research</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">{stats.by_type.ANALYTICS || 0}</span>\n                    <span className=\"stat-label\">Analytics</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">{stats.total_chunks}</span>\n                    <span className=\"stat-label\">Text Chunks</span>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"empty-state\">\n                  <span className=\"empty-state-icon\">üìù</span>\n                  <h3>No Data Available</h3>\n                  <p>Import from Notion to get started</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"kb-card\">\n              <div className=\"card-header\">\n                <span className=\"card-icon\">‚ö°</span>\n                <div>\n                  <h2 className=\"card-title\">Import Controls</h2>\n                  <p className=\"card-description\">Sync data from Notion</p>\n                </div>\n              </div>\n\n              <div className=\"import-controls\">\n                <div className=\"button-group\">\n                  <button \n                    className=\"btn-primary\" \n                    onClick={() => handleStartImport(false)} \n                    disabled={isImporting}\n                  >\n                    {isImporting ? 'Importing...' : 'Start Import'}\n                  </button>\n                  <button \n                    className=\"btn-secondary\" \n                    onClick={() => handleStartImport(true)} \n                    disabled={isImporting}\n                  >\n                    {isImporting ? 'Importing...' : 'Force Re-import'}\n                  </button>\n                </div>\n                \n                {renderImportProgress() && (\n                  <div className=\"progress-section\">\n                    <div className=\"progress-text\">\n                      {renderImportProgress()}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <FileUpload onUploadComplete={handleUploadComplete} />\n          </div>\n\n          <div className=\"kb-main\">\n            <div className=\"card-header\">\n              <span className=\"card-icon\">üìö</span>\n              <div>\n                <h2 className=\"card-title\">Imported Pages</h2>\n                <p className=\"card-description\">Browse and filter your knowledge base content</p>\n              </div>\n            </div>\n\n            <div className=\"filter-section\">\n              <div className=\"filter-buttons\">\n                <button \n                  className=\"filter-btn\" \n                  onClick={() => fetchPages()}\n                >\n                  All Pages\n                </button>\n                <button \n                  className=\"filter-btn\" \n                  onClick={() => fetchPages(PageType.prd)}\n                >\n                  PRDs\n                </button>\n                <button \n                  className=\"filter-btn\" \n                  onClick={() => fetchPages(PageType.research)}\n                >\n                  Research\n                </button>\n                <button \n                  className=\"filter-btn\" \n                  onClick={() => fetchPages(PageType.analytics)}\n                >\n                  Analytics\n                </button>\n              </div>\n            </div>\n            \n            {pages.length > 0 ? (\n              <div className=\"pages-table-container\">\n                <table className=\"pages-table\">\n                  <thead>\n                    <tr>\n                      <th>Title</th>\n                      <th>Type</th>\n                      <th>Last Updated</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {pages.map(page => (\n                      <tr key={page.id}>\n                        <td>\n                          {page.notion_url ? (\n                            <a \n                              href={page.notion_url} \n                              target=\"_blank\" \n                              rel=\"noopener noreferrer\"\n                              className=\"page-link\"\n                            >\n                              {page.title}\n                            </a>\n                          ) : (\n                            <span className=\"page-link\">{page.title}</span>\n                          )}\n                        </td>\n                        <td>\n                          <span className={`page-type-badge page-type-${page.page_type.toLowerCase()}`}>\n                            {page.page_type}\n                          </span>\n                        </td>\n                        <td>{new Date(page.updated_at).toLocaleDateString()}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ) : (\n              <div className=\"empty-state\">\n                <span className=\"empty-state-icon\">üìÑ</span>\n                <h3>No Pages Found</h3>\n                <p>No documents have been imported yet. Use the import controls to sync your Notion content.</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default KnowledgeBasePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}