{"ast":null,"code":"var _jsxFileName = \"/Users/konstantinvaliotti/prdreview/frontend/src/components/KnowledgeBasePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { notionAPI } from '../services/api';\nimport { PageType } from '../types';\nimport FileUpload from './FileUpload';\nimport './KnowledgeBasePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KnowledgeBasePage = () => {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [pages, setPages] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isImporting, setIsImporting] = useState(false);\n  const [importProgress, setImportProgress] = useState(null);\n  const fetchStats = async () => {\n    try {\n      const response = await notionAPI.getStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n  const fetchPages = async pageType => {\n    try {\n      const response = await notionAPI.getPages(pageType);\n      setPages(response.data);\n    } catch (error) {\n      console.error('Error fetching pages:', error);\n    }\n  };\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([fetchStats(), fetchPages()]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n  const handleUploadComplete = () => {\n    // Refresh data after upload\n    fetchStats();\n    fetchPages();\n  };\n  const handleStartImport = async forceUpdate => {\n    setIsImporting(true);\n    setImportProgress({\n      status: 'starting'\n    });\n    try {\n      const response = await notionAPI.startImport(forceUpdate);\n      const reader = response.data.getReader();\n      const decoder = new TextDecoder();\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) break;\n        const chunk = decoder.decode(value);\n        const lines = chunk.split('\\n\\n').filter(Boolean);\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = JSON.parse(line.substring(6));\n            setImportProgress(data);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error during import:', error);\n      setImportProgress({\n        status: 'error',\n        error: 'An unexpected error occurred.'\n      });\n    } finally {\n      setIsImporting(false);\n      await fetchStats();\n      await fetchPages();\n    }\n  };\n  const renderImportProgress = () => {\n    if (!isImporting || !importProgress) return null;\n    switch (importProgress.status) {\n      case 'starting':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Starting import...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 16\n        }, this);\n      case 'fetching_pages':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fetching pages from \", importProgress.database_type, \" database...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 16\n        }, this);\n      case 'pages_fetched':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fetched \", importProgress.pages_count, \" pages. Processing...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 16\n        }, this);\n      case 'page_processed':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Processing page \", importProgress.page_index, \"/\", importProgress.total_pages, \": \", importProgress.page_title, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), \"Chunks created: \", importProgress.chunks_created, \", Embeddings: \", importProgress.embeddings_created]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Import completed!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), \"Pages imported: \", importProgress.total_pages_imported, \", Chunks created: \", importProgress.total_chunks_created, \", Embeddings generated: \", importProgress.total_embeddings_generated]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: [\"Error: \", importProgress.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading knowledge base...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"knowledge-base-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Knowledge Base\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-overview\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), stats ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Total Pages: \", stats.total_pages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"PRDs: \", stats.by_type.prd || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Research: \", stats.by_type.research || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Analytics: \", stats.by_type.analytics || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Total Chunks: \", stats.total_chunks]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data available. Import from Notion to get started.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"import-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Import from Notion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleStartImport(false),\n        disabled: isImporting,\n        children: isImporting ? 'Importing...' : 'Start Import'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleStartImport(true),\n        disabled: isImporting,\n        children: isImporting ? 'Importing...' : 'Force Full Re-import'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), renderImportProgress()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      onUploadComplete: handleUploadComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Imported Pages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchPages(),\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchPages(PageType.PRD),\n          children: \"PRDs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchPages(PageType.RESEARCH),\n          children: \"Research\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchPages(PageType.ANALYTICS),\n          children: \"Analytics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Updated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: pages.map(page => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: page.notion_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n                href: page.notion_url,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: page.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this) : page.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: page.page_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(page.updated_at).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)]\n          }, page.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_s(KnowledgeBasePage, \"upw26lgPh6vYCpHi4wAfKVrO8oc=\");\n_c = KnowledgeBasePage;\nexport default KnowledgeBasePage;\nvar _c;\n$RefreshReg$(_c, \"KnowledgeBasePage\");","map":{"version":3,"names":["React","useState","useEffect","notionAPI","PageType","FileUpload","jsxDEV","_jsxDEV","KnowledgeBasePage","_s","stats","setStats","pages","setPages","isLoading","setIsLoading","isImporting","setIsImporting","importProgress","setImportProgress","fetchStats","response","getStats","data","error","console","fetchPages","pageType","getPages","loadData","Promise","all","handleUploadComplete","handleStartImport","forceUpdate","status","startImport","reader","getReader","decoder","TextDecoder","done","value","read","chunk","decode","lines","split","filter","Boolean","line","startsWith","JSON","parse","substring","renderImportProgress","children","fileName","_jsxFileName","lineNumber","columnNumber","database_type","pages_count","page_index","total_pages","page_title","chunks_created","embeddings_created","total_pages_imported","total_chunks_created","total_embeddings_generated","style","color","className","by_type","prd","research","analytics","total_chunks","onClick","disabled","onUploadComplete","PRD","RESEARCH","ANALYTICS","map","page","notion_url","href","target","rel","title","page_type","Date","updated_at","toLocaleString","id","_c","$RefreshReg$"],"sources":["/Users/konstantinvaliotti/prdreview/frontend/src/components/KnowledgeBasePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { notionAPI } from '../services/api';\nimport { KnowledgeBaseStats, NotionPage, PageType } from '../types';\nimport FileUpload from './FileUpload';\nimport './KnowledgeBasePage.css';\n\nconst KnowledgeBasePage: React.FC = () => {\n  const [stats, setStats] = useState<KnowledgeBaseStats | null>(null);\n  const [pages, setPages] = useState<NotionPage[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isImporting, setIsImporting] = useState(false);\n  const [importProgress, setImportProgress] = useState<any>(null);\n\n  const fetchStats = async () => {\n    try {\n      const response = await notionAPI.getStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n\n  const fetchPages = async (pageType?: PageType) => {\n    try {\n      const response = await notionAPI.getPages(pageType);\n      setPages(response.data);\n    } catch (error) {\n      console.error('Error fetching pages:', error);\n    }\n  };\n\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([fetchStats(), fetchPages()]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const handleUploadComplete = () => {\n    // Refresh data after upload\n    fetchStats();\n    fetchPages();\n  };\n\n  const handleStartImport = async (forceUpdate: boolean) => {\n    setIsImporting(true);\n    setImportProgress({ status: 'starting' });\n    try {\n      const response = await notionAPI.startImport(forceUpdate);\n      const reader = response.data.getReader();\n      const decoder = new TextDecoder();\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        \n        const chunk = decoder.decode(value);\n        const lines = chunk.split('\\n\\n').filter(Boolean);\n        \n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = JSON.parse(line.substring(6));\n            setImportProgress(data);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error during import:', error);\n      setImportProgress({ status: 'error', error: 'An unexpected error occurred.' });\n    } finally {\n      setIsImporting(false);\n      await fetchStats();\n      await fetchPages();\n    }\n  };\n  \n  const renderImportProgress = () => {\n    if (!isImporting || !importProgress) return null;\n    \n    switch (importProgress.status) {\n      case 'starting':\n        return <p>Starting import...</p>;\n      case 'fetching_pages':\n        return <p>Fetching pages from {importProgress.database_type} database...</p>;\n      case 'pages_fetched':\n        return <p>Fetched {importProgress.pages_count} pages. Processing...</p>;\n      case 'page_processed':\n        return (\n          <p>\n            Processing page {importProgress.page_index}/{importProgress.total_pages}: {importProgress.page_title}\n            <br />\n            Chunks created: {importProgress.chunks_created}, Embeddings: {importProgress.embeddings_created}\n          </p>\n        );\n      case 'completed':\n        return (\n          <p>\n            Import completed!\n            <br />\n            Pages imported: {importProgress.total_pages_imported}, \n            Chunks created: {importProgress.total_chunks_created}, \n            Embeddings generated: {importProgress.total_embeddings_generated}\n          </p>\n        );\n      case 'error':\n        return <p style={{ color: 'red' }}>Error: {importProgress.error}</p>;\n      default:\n        return null;\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading knowledge base...</div>;\n  }\n\n  return (\n    <div className=\"knowledge-base-page\">\n      <h1>Knowledge Base</h1>\n\n      <div className=\"stats-overview\">\n        <h2>Overview</h2>\n        {stats ? (\n          <ul>\n            <li>Total Pages: {stats.total_pages}</li>\n            <li>PRDs: {stats.by_type.prd || 0}</li>\n            <li>Research: {stats.by_type.research || 0}</li>\n            <li>Analytics: {stats.by_type.analytics || 0}</li>\n            <li>Total Chunks: {stats.total_chunks}</li>\n          </ul>\n        ) : (\n          <p>No data available. Import from Notion to get started.</p>\n        )}\n      </div>\n\n      <div className=\"import-controls\">\n        <h2>Import from Notion</h2>\n        <button onClick={() => handleStartImport(false)} disabled={isImporting}>\n          {isImporting ? 'Importing...' : 'Start Import'}\n        </button>\n        <button onClick={() => handleStartImport(true)} disabled={isImporting}>\n          {isImporting ? 'Importing...' : 'Force Full Re-import'}\n        </button>\n        {renderImportProgress()}\n      </div>\n      \n      <FileUpload onUploadComplete={handleUploadComplete} />\n\n      <div className=\"page-list\">\n        <h2>Imported Pages</h2>\n        <div className=\"filter-buttons\">\n          <button onClick={() => fetchPages()}>All</button>\n          <button onClick={() => fetchPages(PageType.PRD)}>PRDs</button>\n          <button onClick={() => fetchPages(PageType.RESEARCH)}>Research</button>\n          <button onClick={() => fetchPages(PageType.ANALYTICS)}>Analytics</button>\n        </div>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Type</th>\n              <th>Last Updated</th>\n            </tr>\n          </thead>\n          <tbody>\n            {pages.map(page => (\n              <tr key={page.id}>\n                <td>\n                  {page.notion_url ? (\n                    <a href={page.notion_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                      {page.title}\n                    </a>\n                  ) : (\n                    page.title\n                  )}\n                </td>\n                <td>{page.page_type}</td>\n                <td>{new Date(page.updated_at).toLocaleString()}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default KnowledgeBasePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}